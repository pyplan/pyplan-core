{"modelProp": {"libs": []}, "nodeList": [{"color": null, "definition": "result = 0", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "50", "identifier": "pruebas_dynamic", "moduleId": "_model_", "nodeClass": "model", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Pruebas Dynamic", "units": null, "w": "100", "x": 100, "y": 100, "z": 1}, {"color": "#a5ff4b", "definition": "import pickle\n\nresult = pickle.load(open('inputs.pkl', 'rb'))", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "inputs_pkl", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Inputs pkl", "units": null, "w": "189", "x": 67, "y": 61, "z": 1}, {"color": "#9999ff", "definition": "result = pd.Index(cons_taxa_atual_monet.coords['time'].values)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "48", "identifier": "time", "moduleId": "dynamic_1_mod", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Time", "units": null, "w": "96", "x": 886, "y": 170, "z": 1}, {"color": "#9999ff", "definition": "result = pd.Index(cons_taxa_atual_monet.coords['cons_ind_mutuos'].values)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "48", "identifier": "cons_ind_mutuos", "moduleId": "dynamic_1_mod", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "M\u00fatuos", "units": null, "w": "96", "x": 886, "y": 232, "z": 1}, {"color": "#9999ff", "definition": "result = pd.Index(cons_taxa_atual_monet.coords['empresas_do_grupo_e_outras'].values)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "48", "identifier": "empresas_do_grupo_e_outras", "moduleId": "dynamic_1_mod", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Empresas do Grupo e Outras", "units": null, "w": "96", "x": 886, "y": 293, "z": 1}, {"color": "#9999ff", "definition": "result = pd.Index(cons_taxa_atual_monet.coords['cons_ind_emp_con_outras'].values)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "48", "identifier": "cons_ind_emp_con_outras", "moduleId": "dynamic_1_mod", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Empresas Controladas e Outras", "units": null, "w": "96", "x": 888, "y": 350, "z": 1}, {"color": "#4CBCFF", "definition": "result = xr.where( cons_da_emp_con_out== 'Pecem UTE', 0, cons_cred_pes_lig_x_mut_t1*cons_taxa_atual_monet )", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "cons_atual_monet", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Atualiza\u00e7\u00e3o Monet\u00e1ria", "units": null, "w": "189", "x": 323, "y": 157, "z": 1}, {"color": "#4cbcff", "definition": "result = cons_desem_fut + cons_atual_monet - cons_receb_mut", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "cons_cred_pes_lig_x_mut_mov", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Creditos com Pessoas Ligadas por Mutuo - Movimenta\u00e7\u00e3o", "units": null, "w": "189", "x": 323, "y": 263, "z": 1}, {"color": "#4cbcff", "definition": "result = xr.where( pp.to_dataarray(time) <= ultimo_mes_realizado_val, cons_cred_pes_lig_ini_share, pp.dynamic( cons_cred_pes_lig_x_mut, time, -1, initialValues=0 ) + cons_cred_pes_lig_x_mut_mov)", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "cons_cred_pes_lig_x_mut", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Creditos com Pessoas Ligadas por Mutuo", "units": null, "w": "189", "x": 323, "y": 376, "z": 1}, {"color": "#4CBCFF", "definition": "result = pp.dynamic( cons_cred_pes_lig_x_mut, time, -1, initialValues=0 ) + pp.create_dataarray( 0, [time,cons_ind_emp_con_outras, empresas_do_grupo_e_outras,cons_ind_mutuos ], dtype=None )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "cons_cred_pes_lig_x_mut_t1", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Creditos com Pessoas Ligadas por Mutuo [Time -1]", "units": null, "w": "189", "x": 568, "y": 376, "z": 1}, {"color": "#4CBCFF", "definition": "_aux = cons_taxa_atual_monet\n\nresult = xr.where( pp.to_dataarray(time) < cons_data_dev, 0., (cons_cred_pes_lig_x_mut_t1 + cons_atual_monet)*cons_fator_rec_mut_grid_novo )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "cons_receb_mut", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Recebemento M\u00fatuo", "units": null, "w": "189", "x": 568, "y": 157, "z": 1}, {"color": "#ffff4b", "definition": "result = inputs_pkl['cons_fator_rec_mut_grid_novo1']", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "cons_fator_rec_mut_grid_novo", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Fator Rec. M\u00fatuo GRID (Novo)", "units": null, "w": "189", "x": 323, "y": 114, "z": 1}, {"color": "#ffff4b", "definition": "result = inputs_pkl['cons_data_dev1']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "cons_data_dev", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Data de Devolu\u00e7\u00e3o", "units": null, "w": "189", "x": 568, "y": 114, "z": 1}, {"color": "#ffff4b", "definition": "result = inputs_pkl['cons_da_emp_con_out1']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "cons_da_emp_con_out", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Data Array Empresas Controladas e Outras", "units": null, "w": "189", "x": 67, "y": 114, "z": 1}, {"color": "#ffff4b", "definition": "result = inputs_pkl['cons_taxa_atual_monet1']", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "cons_taxa_atual_monet", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Taxa de Atualiza\u00e7\u00e3o Monet\u00e1ria", "units": null, "w": "189", "x": 67, "y": 157, "z": 1}, {"color": "#ffff4b", "definition": "result = inputs_pkl['cons_desem_fut1']", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "cons_desem_fut", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Desembolsos Futuros", "units": null, "w": "189", "x": 67, "y": 263, "z": 1}, {"color": "#ffff4b", "definition": "result = inputs_pkl['ultimo_mes_realizado_val1']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "ultimo_mes_realizado_val", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "\u00daltimo M\u00eas Real", "units": null, "w": "189", "x": 67, "y": 329, "z": 1}, {"color": "#ffff4b", "definition": "result = inputs_pkl['cons_cred_pes_lig_ini_share1']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "cons_cred_pes_lig_ini_share", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Cr\u00e9ditos Inicial * Share M\u00fatuos", "units": null, "w": "189", "x": 67, "y": 376, "z": 1}, {"color": "#3d85c6", "definition": "_da_cons_atual_monet = []\n_da_cons_cred_pes_lig_x_mut_mov = []\n_da_cons_receb_mut = []\n_da_cons_cred_pes_lig_x_mut = []\n\n_da_empty = cons_taxa_atual_monet * 0.\n_cons_receb_mut_t = _da_empty.copy().sum(time.name)\n_cons_cred_pes_lig_x_mut_t = _da_empty.copy().sum(time.name)\nfor t in time:\n    _taxa_atualiz_mon_t = pp.subscript(cons_taxa_atual_monet, time, t)\n    _cons_desem_fut_t = pp.subscript(cons_desem_fut, time, t)\n    _cons_cred_pes_lig_ini_share_t = pp.subscript(cons_cred_pes_lig_ini_share, time, t)\n    _cons_fator_rec_mut_grid_novo_t = pp.subscript(cons_fator_rec_mut_grid_novo, time, t)\n    \n    # Atualiza\u00e7\u00e3o Monet\u00e1ria\n    _cons_atual_monet_t = xr.where(cons_da_emp_con_out== 'Pecem UTE', 0., _taxa_atualiz_mon_t * _cons_cred_pes_lig_x_mut_t)\n    \n    # Recebemento M\u00fatuo\n    _cons_receb_mut_t = xr.where(\n        t < cons_data_dev, \n        0.,\n        (_cons_cred_pes_lig_x_mut_t + _cons_atual_monet_t) * _cons_fator_rec_mut_grid_novo_t\n    )\n    \n    # Creditos com Pessoas Ligadas por Mutuo - Movimenta\u00e7\u00e3o\n    _cons_cred_pes_lig_x_mut_mov_t = _cons_desem_fut_t + _cons_atual_monet_t - _cons_receb_mut_t\n    \n    # Creditos com Pessoas Ligadas por Mutuo\n    if t <= ultimo_mes_realizado_val:\n        _cons_cred_pes_lig_x_mut_t = _cons_cred_pes_lig_ini_share_t\n    else:\n        _cons_cred_pes_lig_x_mut_t = _cons_cred_pes_lig_x_mut_t + _cons_cred_pes_lig_x_mut_mov_t\n    \n    # Consolidar\n    _da_cons_atual_monet.append(_cons_atual_monet_t)\n    _da_cons_cred_pes_lig_x_mut_mov.append(_cons_cred_pes_lig_x_mut_mov_t)\n    _da_cons_receb_mut.append(_cons_receb_mut_t)\n    _da_cons_cred_pes_lig_x_mut.append(_cons_cred_pes_lig_x_mut_t)\n\nresult = {\n    'cons_atual_monet': xr.concat(_da_cons_atual_monet, dim=time),\n    'cons_cred_pes_lig_x_mut_mov': xr.concat(_da_cons_cred_pes_lig_x_mut_mov, dim=time),\n    'cons_receb_mut': xr.concat(_da_cons_receb_mut, dim=time),\n    'cons_cred_pes_lig_x_mut': xr.concat(_da_cons_cred_pes_lig_x_mut, dim=time)\n}", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "resuelto_en_un_nodo", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Resuelto en un Nodo", "units": null, "w": "189", "x": 568, "y": 467, "z": 1}, {"color": "#cb98ff", "definition": "import time as _time\n\ndef _fn(nodes):\n    _nodes_list = nodes\n    if not isinstance(nodes, list):\n        _nodes_list = [_nodes_list]\n    \n    _start_time = _time.time()\n    \n    for nd in _nodes_list:\n        _eval = nd.result\n    \n    _end_time = _time.time()\n    \n    return _end_time - _start_time\n\nresult = _fn", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "40", "identifier": "get_node_exec_time", "moduleId": "dynamic_1_mod", "nodeClass": "function", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Get Node Execution Time", "units": null, "w": "100", "x": 1006, "y": 212, "z": 1}, {"color": "#f3f3f3", "definition": "result = get_node_exec_time(cons_atual_monet.node)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "48", "identifier": "node_exec_time", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Node Exec Time", "units": null, "w": "96", "x": 369, "y": 458, "z": 1}, {"color": "#9FC5E8", "definition": "", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "50", "identifier": "dynamic_1_mod", "moduleId": "pruebas_dynamic", "nodeClass": "module", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Dynamic 1", "units": null, "w": "100", "x": 176, "y": 70, "z": 1}, {"color": "#9FC5E8", "definition": "", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "50", "identifier": "dynamic_2_mod", "moduleId": "pruebas_dynamic", "nodeClass": "module", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Dynamic 2", "units": null, "w": "100", "x": 439, "y": 70, "z": 1}, {"color": "#a5ff4b", "definition": "import pickle\n\nresult = pickle.load(open('nodos_dynamic_2.pkl', 'rb'))", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "nodos_dynamic_2_pkl", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Nodos Dynamic 2 pkl", "units": null, "w": "189", "x": 85, "y": 61, "z": 1}, {"color": "#ffff4b", "definition": "result = nodos_dynamic_2_pkl['div_data_array_atuais_fut']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "div_data_array_atuais_fut", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Data Array Time D\u00edvidas Atuais Futuras", "units": null, "w": "189", "x": 85, "y": 109, "z": 1}, {"color": "#ffff4b", "definition": "result = nodos_dynamic_2_pkl['div_nome_div_irr']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "div_nome_div_irr", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Nome D\u00edvida Irregular", "units": null, "w": "189", "x": 85, "y": 152, "z": 1}, {"color": "#ffff4b", "definition": "result = nodos_dynamic_2_pkl['div_enc_ger_div_irr']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "div_enc_ger_div_irr", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Encargos Gerados d\u00edvida irregular", "units": null, "w": "189", "x": 85, "y": 198, "z": 1}, {"color": "#ffff4b", "definition": "result = nodos_dynamic_2_pkl['div_data_array_time']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "div_data_array_time", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Data Array Time D\u00edvidas", "units": null, "w": "189", "x": 85, "y": 242, "z": 1}, {"color": "#ffff4b", "definition": "result = nodos_dynamic_2_pkl['div_par_final_carencia']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "div_par_final_carencia", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Final da Car\u00eancia", "units": null, "w": "189", "x": 85, "y": 285, "z": 1}, {"color": "#ffff4b", "definition": "result = nodos_dynamic_2_pkl['div_filtro_cap_juros']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "div_filtro_cap_juros", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Filtro Capitaliza\u00e7\u00e3o de Juros", "units": null, "w": "189", "x": 85, "y": 327, "z": 1}, {"color": "#ffff4b", "definition": "result = nodos_dynamic_2_pkl['div_lim_datas_bndes']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "div_lim_datas_bndes", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "L\u00edmites Datas BNDES", "units": null, "w": "189", "x": 85, "y": 369, "z": 1}, {"color": "#ffff4b", "definition": "result = nodos_dynamic_2_pkl['div_div_bndes_poster']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "div_div_bndes_poster", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "D\u00edvidas BNDES com Posterga\u00e7\u00e3o", "units": null, "w": "189", "x": 85, "y": 411, "z": 1}, {"color": "#ffff4b", "definition": "result = nodos_dynamic_2_pkl['div_enc_ger']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "div_enc_ger", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Encargos Gerados", "units": null, "w": "189", "x": 85, "y": 453, "z": 1}, {"color": "#ffff4b", "definition": "result = nodos_dynamic_2_pkl['div_enc_ger']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "div_meses_pag", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Meses de Pagamento", "units": null, "w": "189", "x": 85, "y": 495, "z": 1}, {"color": "#ffff4b", "definition": "result = nodos_dynamic_2_pkl['div_par_data_desemb']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "div_par_data_desemb", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Data de Desembolso", "units": null, "w": "189", "x": 85, "y": 536, "z": 1}, {"color": "#ffff4b", "definition": "result = nodos_dynamic_2_pkl['div_cap_mensal']", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "31", "identifier": "div_cap_mensal", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Capitaliza\u00e7\u00e3o Mensal", "units": null, "w": "189", "x": 85, "y": 578, "z": 1}, {"color": "#4CBCFF", "definition": "# Definicao tarda alguns minutos mais\nresult = xr.where(div_data_array_atuais_fut == div_nome_div_irr, div_enc_ger_div_irr, \n            xr.where(div_data_array_time<div_par_final_carencia, \n                xr.where(div_filtro_cap_juros == 1., 0., \n                    xr.where((div_lim_datas_bndes*div_div_bndes_poster)!=0., 0., \n                        (div_enc_ger + div_enc_pagar_shift1)*div_meses_pag)),\n            xr.where((div_lim_datas_bndes*div_div_bndes_poster)!=0., 0., \n                        (div_enc_ger + div_enc_pagar_shift1)*div_meses_pag)))\n\n# result = xr.where(div_data_array_atuais_fut == div_nome_div_irr, div_enc_ger_div_idrr, \n#             xr.where(div_data_array_time<div_par_final_carencia, \n#                 xr.where(div_filtro_cap_juros == 1., 0., \n#                     xr.where((div_lim_datas_bndes*div_div_bndes_poster)!=0., 0., \n#                         (div_enc_ger + pp.dyn.amic(div_enc_a_pagar, historic_concat_time_div, -1, 0.))*div_meses_pag)),\n#             xr.where((div_lim_datas_bndes*div_div_bndes_poster)!=0., 0., \n#                         (div_enc_ger + pp.dyn.amic(div_enc_a_pagar, historic_concat_time_div, -1, 0.))*div_meses_pag)))", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "34", "identifier": "div_enc_pagos", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": "", "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Encargos Pagos", "units": null, "w": "200", "x": 688, "y": 311, "z": 1}, {"color": "#4CBCFF", "definition": "result = xr.where(div_data_array_time==div_par_data_desemb, div_enc_ger - div_enc_pagos - div_cap_mensal, pp.dynamic(div_enc_a_pagar_s1, historic_concat_time_div, -1, 0.) + div_enc_ger - div_enc_pagos - div_cap_mensal)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "34", "identifier": "div_enc_a_pagar_s1", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Escargos a Pagar [Step1]", "units": null, "w": "200", "x": 688, "y": 425, "z": 1}, {"color": "#4CBCFF", "definition": "result = pp.dynamic( div_enc_a_pagar, historic_concat_time_div, -1, initialValues=0. ) + pp.create_dataarray( 0., [historic_concat_time_div, ind_div_atuais_fut] )", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "35", "identifier": "div_enc_pagar_shift1", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Encargos a Pagar (Shift -1)", "units": null, "w": "194", "x": 409, "y": 575, "z": 1}, {"color": "#4CBCFF", "definition": "result = xr.where(div_data_array_time<div_par_data_desemb, 0.,div_enc_a_pagar_s1\n            )", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "34", "identifier": "div_enc_a_pagar", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Encargos a Pagar", "units": null, "w": "200", "x": 688, "y": 576, "z": 1}, {"color": "#f3f3f3", "definition": "result = get_node_exec_time(div_enc_pagar_shift1.node)", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "48", "identifier": "node_exec_time1", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Node Exec Time", "units": null, "w": "96", "x": 458, "y": 641, "z": 1}, {"color": "#9999ff", "definition": "result = pd.Index(div_lim_datas_bndes.coords['historic_concat_time_div'].values)", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "48", "identifier": "historic_concat_time_div", "moduleId": "dynamic_2_mod", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Historic Concat Time D\u00edvidas", "units": null, "w": "96", "x": 1004, "y": 166, "z": 1}, {"color": "#9999ff", "definition": "result = pd.Index(div_lim_datas_bndes.coords['ind_div_atuais_fut'].values)", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "48", "identifier": "ind_div_atuais_fut", "moduleId": "dynamic_2_mod", "nodeClass": "index", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 0, "showLabel": 1, "showOutputs": 0, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "D\u00edvidas Atuais e Futuras", "units": null, "w": "96", "x": 1004, "y": 237, "z": 1}, {"color": "#4CBCFF", "definition": "_a = div_data_array_atuais_fut\n_a = div_nome_div_irr\n_a = div_enc_ger_div_irr\n_a = div_data_array_time\n_a = div_par_final_carencia\n_a = div_filtro_cap_juros\n_a = div_lim_datas_bndes\n_a = div_div_bndes_poster\n_a = div_enc_ger\n_a = div_meses_pag\n_a = div_par_data_desemb\n_a = div_cap_mensal\n\n\n\n\nresult = 0", "description": "", "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "48", "identifier": "run_all_inputs", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "Run All Inputs", "units": null, "w": "96", "x": 131, "y": 652, "z": 1}, {"color": "#4CBCFF", "definition": "result = div_enc_pagar_shift1", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": "48", "identifier": "node1", "moduleId": "dynamic_2_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": null, "units": null, "w": "96", "x": 638, "y": 651, "z": 1}, {"color": "#4CBCFF", "definition": "result = cons_cred_pes_lig_x_mut_t1.sum()", "description": null, "errorInDef": false, "evaluateOnStart": false, "extraData": null, "h": 48, "identifier": "check_sum_all", "moduleId": "dynamic_1_mod", "nodeClass": "variable", "nodeFont": null, "nodeInfo": {"__dict__": {}, "fill": 1, "py/object": "pyplan_core.classes.NodeInfo.NodeInfo", "showBorder": 1, "showInputs": 1, "showLabel": 1, "showOutputs": 1, "useNodeFont": 0}, "numberFormat": null, "originalId": null, "picture": null, "title": "check sum all", "units": null, "w": 96, "x": 820, "y": 428, "z": 1}]}